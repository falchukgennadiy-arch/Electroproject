<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" />
  <title>–≠–ª–µ–∫—Ç—Ä–æ–ü—Ä–æ–µ–∫—Ç Donuts</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
<div class="app-wrapper">
  <div class="header">
    <div class="logo">
      <img src="images/logo.png" alt="Donuts" class="logo-img" style="height: 30px; width: auto; margin-right: 8px;">
      –≠–ª–µ–∫—Ç—Ä–æ–ü—Ä–æ–µ–∫—Ç <span>Donuts</span>
    </div>
    <div class="profile-icon" id="headerProfileIcon" onclick="navigate('profile')">üë§</div>
  </div>

  <div class="container">
    <!-- –ì–õ–ê–í–ù–ê–Ø -->
    <div id="home" class="section active">
      <div class="card">
        <h3>‚ö° –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!!!</h3>
        <div class="placeholder-image">üîß –î–æ—Å—Ç—É–ø –∫ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É</div>
        <p>...</p>
      </div>
    </div>

    <!-- –ö–£–†–°–´ -->
    <div id="courses" class="section">
      <div id="coursesList"></div>
      <div id="coursesCalendar" style="display:none;"></div>
      <div id="courseContent"></div>
    </div>

    <!-- –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø -->
    <div id="visual" class="section">
      <div class="view-toggle" id="visualViewToggle">
        <button class="view-toggle-btn active" onclick="setViewMode('visual', 'list')">üìã –°–ø–∏—Å–æ–∫</button>
        <button class="view-toggle-btn" onclick="setViewMode('visual', 'calendar')">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
      </div>
      <div id="visualList"></div>
      <div id="visualCalendar" style="display:none;"></div>
    </div>

    <!-- –®–ê–ë–õ–û–ù–´ -->
    <div id="templates" class="section">
      <div class="view-toggle" id="templatesViewToggle">
        <button class="view-toggle-btn active" onclick="setViewMode('templates', 'list')">üìã –°–ø–∏—Å–æ–∫</button>
        <button class="view-toggle-btn" onclick="setViewMode('templates', 'calendar')">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
      </div>
      <div id="templatesList"></div>
      <div id="templatesCalendar" style="display:none;"></div>
    </div>

    <!-- –¢–ï–°–¢–´ -->
    <div id="tests" class="section">
      <div id="topicsList"></div>
      <div id="testArea"></div>
    </div>

<!-- –ü–†–û–§–ò–õ–¨ -->
<div id="profile" class="section">
  <!-- –ë–ª–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–µ–Ω) -->
  <div id="profileView" style="display: block;">
    <div class="card profile-card">
      <div class="profile-header">
        <div class="profile-avatar" id="avatar">AA</div>
        <div class="profile-info">
          <h3 id="displayName">–ê–ª–µ–∫—Å–µ–π –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤</h3>
          <p id="userEmail">alex@example.com</p>
          <p class="subtle">–° –Ω–∞–º–∏ <span id="daysWithUs">0</span> –¥–Ω–µ–π</p>
        </div>
        <button class="icon-button" onclick="enableNameEdit()">‚úèÔ∏è</button>
      </div>
    </div>
  </div>

  <!-- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (—Å–∫—Ä—ã—Ç–æ) -->
  <div id="profileEdit" style="display: none;">
    <div class="card">
      <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h3>
      <input type="text" id="editNameInput" class="input" placeholder="–í–∞—à–µ –∏–º—è">
      <div style="display: flex; gap: 10px; margin-top: 15px;">
        <button class="button primary" onclick="saveName()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button class="button ghost" onclick="cancelNameEdit()">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- –°–µ–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ -->
  <div class="card">
    <h3>–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏</h3>
    <div id="subscriptionsList"></div>
  </div>

  <!-- VK –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è -->
  <div style="margin-top: 20px; text-align: center;" id="vkAuthSection">
    <div id="vk-auth-container"></div> <!-- –≠—Ç–æ –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ VK -->
    <!-- –ò–õ–ò –∫–Ω–æ–ø–∫–∞, –µ—Å–ª–∏ –≤–∏–¥–∂–µ—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è -->
    <button class="button" onclick="VKAuth.login()" style="background: #4a76a8; margin-bottom: 10px; " id="vkButton">
      üîµ –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
    </button>
  </div>

  <!-- –ë–ª–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ VK (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
  <div id="userInfoSection" style="display: none; margin-top: 20px;">
    <div style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #1a1a1a; border-radius: 12px;">
      <img id="userAvatar" src="" style="width: 60px; height: 60px; border-radius: 50%; border: 2px solid #e6c158;">
      <div>
        <h3 id="userName" style="margin: 0 0 5px;"></h3>
        <p id="userEmailVK" style="margin: 0; color: #a7a7a7; font-size: 13px;"></p>
      </div>
    </div>
    <div id="userSubscriptions" style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 8px;"></div>
    <button class="button ghost" onclick="logout()" style="margin-top: 15px;">–í—ã–π—Ç–∏</button>
  </div>
</div>

  <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–º -->
  <div id="testControls" class="test-controls">
    <div class="controls-wrap">
      <button class="button ghost" onclick="exitTest()">–í—ã–π—Ç–∏</button>
      <button class="button ghost" onclick="finishTest()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
      <button class="button primary" id="nextBtn" onclick="nextQuestion()" style="display:none;">–î–∞–ª–µ–µ</button>
    </div>
  </div>

  <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
  <div class="bottom-nav">
    <button class="nav-btn active" onclick="navigate('home',this)">üè†<span>–ì–ª–∞–≤–Ω–∞—è</span></button>
    <button class="nav-btn" onclick="navigate('courses',this)">üìö<span>–ö—É—Ä—Å—ã</span></button>
    <button class="nav-btn" onclick="navigate('visual',this)">üé®<span>Visual</span></button>
    <button class="nav-btn" onclick="navigate('templates',this)">üìÅ<span>–®–∞–±–ª–æ–Ω—ã</span></button>
    <button class="nav-btn" onclick="navigate('tests',this)">üìù<span>–¢–µ—Å—Ç—ã</span></button>
  </div>
</div>

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
<script src="https://unpkg.com/@vkid/sdk@<3.0.0/dist-sdk/umd/index.js"></script>
<script src="js/config.js"></script>
<script src="js/api.js"></script>
<script src="js/utils/helpers.js"></script>
<script src="js/utils/calendar.js"></script>
<script src="js/modules/courses.js"></script>
<script src="js/modules/visual.js"></script>
<script src="js/modules/templates.js"></script>
<script src="js/modules/profile.js"></script>
<script src="js/modules/tests.js"></script>
<script src="js/vk-auth.js"></script>
<script src="js/app.js"></script>
</body>
</html>
